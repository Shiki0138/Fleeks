# エックスサーバー FTP設定ガイド

## 国外IPアクセス制限設定の解除方法

### 手順：
1. サーバーパネルにログイン後、「セキュリティ」セクションを探す
2. 「国外IPアクセス制限設定」をクリック
3. ドメイン名を選択（例：example.com）
4. 以下の項目を確認・変更：
   - **ダッシュボード**: ONのまま（変更不要）
   - **ファイルマネージャ**: ONのまま（変更不要）
   - **メール（SMTP/POP/IMAP）**: お使いの設定のまま
   - **FTP（FTP/FTPS）**: **OFF に変更** ← ここが重要！
   - **SSH**: お使いの設定のまま
   - **データベース**: ONのまま（推奨）

5. 「設定する」ボタンをクリック

### なぜこの設定が必要？
- GitHub Actions は米国のサーバーから接続するため
- 国外IPアクセス制限がONだと、海外からのFTP接続がブロックされる
- FTPのみOFFにすることで、セキュリティを保ちながらGitHub Actionsからの接続を許可

## FTP制限設定の確認

### 手順：
1. サーバーパネルの「FTP」セクションを探す
2. 「FTP制限設定」をクリック
3. ドメインを選択
4. 制限設定を確認：
   - 「すべて拒否」になっていないか確認
   - 特定のIPアドレスのみ許可になっていないか確認
   - もし制限がある場合は「使用しない」に変更

## トラブルシューティング

### 設定後も接続できない場合：

1. **FTPアカウントの確認**
   - FTPアカウント設定で、使用しているアカウントが有効か確認
   - パスワードが正しいか再確認

2. **サブFTPアカウントの作成（推奨）**
   - メインアカウントではなく、専用のサブFTPアカウントを作成
   - 特定のディレクトリのみアクセス可能に設定
   - より安全で、問題の切り分けがしやすい

3. **FTPソフトで接続テスト**
   - FileZillaなどのFTPクライアントで手動接続を試す
   - 接続情報が正しいか確認

### 注意事項
- 設定変更後、反映まで数分かかる場合があります
- セキュリティのため、使用後は必要に応じて制限を再度有効にすることを検討してください