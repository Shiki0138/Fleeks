# ムームードメインでドメイン変更手順

## 前提条件
- 新しいドメインが既に取得済みであること
- ムームードメインの管理画面にログインできること
- GitHub Pagesの設定を変更する権限があること

## 手順

### 1. 新しいドメインの取得（未取得の場合）

1. [ムームードメイン](https://muumuu-domain.com/)にログイン
2. トップページでドメイン検索
3. 希望のドメインを選択して購入手続き
4. 支払い完了後、ドメイン管理画面へ

### 2. DNS設定の準備

#### A. 現在のDNS設定を確認（重要）

1. ムームードメイン管理画面にログイン
2. 「ドメイン一覧」から現在のドメイン（fleeks.jp）をクリック
3. 「DNS設定」または「カスタム設定」を開く
4. 現在の設定をメモまたはスクリーンショットで保存

現在の設定例：
```
タイプ: A
名前: @
値: 185.199.108.153
---
タイプ: A  
名前: @
値: 185.199.109.153
---
タイプ: A
名前: @  
値: 185.199.110.153
---
タイプ: A
名前: @
値: 185.199.111.153
---
タイプ: CNAME
名前: www
値: shiki0138.github.io
```

### 3. 新しいドメインのDNS設定

1. ドメイン一覧から新しいドメインを選択
2. 「DNS設定」→「カスタム設定」を選択
3. 以下の設定を追加：

#### GitHub Pages用のA recordを設定
```
設定1:
タイプ: A
サブドメイン: (空白)
IPアドレス: 185.199.108.153

設定2:
タイプ: A
サブドメイン: (空白)
IPアドレス: 185.199.109.153

設定3:
タイプ: A
サブドメイン: (空白)
IPアドレス: 185.199.110.153

設定4:
タイプ: A
サブドメイン: (空白)
IPアドレス: 185.199.111.153
```

#### wwwサブドメイン用のCNAME設定
```
タイプ: CNAME
サブドメイン: www
ホスト名: shiki0138.github.io
```

4. 「設定」ボタンをクリックして保存

### 4. GitHub側の設定変更

1. GitHubリポジトリ（Fleeks）にアクセス
2. Settings → Pages を開く
3. Custom domain欄を新しいドメインに変更
4. 「Save」をクリック

### 5. CNAMEファイルの更新

リポジトリのルートディレクトリにあるCNAMEファイルを更新：

```bash
# 現在のCNAMEファイル内容を確認
cat CNAME

# 新しいドメインに更新（例：newdomain.com）
echo "newdomain.com" > CNAME

# コミット&プッシュ
git add CNAME
git commit -m "ドメインを新しいドメインに変更"
git push origin main
```

### 6. SSL証明書の確認

1. GitHub Pagesの設定画面で「Enforce HTTPS」のチェックを一旦外す
2. DNS設定が反映されるまで待つ（最大48時間）
3. 設定が反映されたら「Enforce HTTPS」を再度チェック

### 7. 動作確認

1. 新しいドメインにアクセスして表示確認
2. HTTPSでアクセスできることを確認
3. www付きドメインでもアクセスできることを確認

### 8. 旧ドメインからのリダイレクト設定（オプション）

旧ドメインから新ドメインへのリダイレクトを設定する場合：

1. ムームードメインで旧ドメインのDNS設定を維持
2. GitHub Pagesではリダイレクトの設定ができないため、以下の選択肢：
   - 旧ドメインを別のホスティングサービスに向けてリダイレクト設定
   - 旧ドメインのトップページにリダイレクトの案内を表示

## トラブルシューティング

### DNS設定が反映されない場合
- 最大48時間待つ必要がある
- `nslookup newdomain.com` コマンドで確認
- ブラウザのキャッシュをクリア

### SSL証明書のエラーが出る場合
1. GitHub Pagesの設定で一度HTTPSを無効化
2. 10分待つ
3. 再度HTTPSを有効化

### ページが表示されない場合
1. CNAMEファイルの内容を確認
2. DNS設定が正しいか再確認
3. GitHub Pagesの設定画面でエラーメッセージを確認

## 注意事項

- DNS設定の変更は即座に反映されない（通常数時間〜48時間）
- 設定変更中は一時的にサイトにアクセスできなくなる可能性がある
- 旧ドメインのSEO評価を引き継ぎたい場合は301リダイレクトが推奨される
- メールアドレスも旧ドメインを使用している場合は別途設定が必要